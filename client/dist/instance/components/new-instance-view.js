"use strict";var __decorate=this&&this.__decorate||function(e,t,r,a){var c,n=arguments.length,i=3>n?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,a);else for(var o=e.length-1;o>=0;o--)(c=e[o])&&(i=(3>n?c(i):n>3?c(t,r,i):c(t,r))||i);return n>3&&i&&Object.defineProperty(t,r,i),i},__metadata=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},__param=this&&this.__param||function(e,t){return function(r,a){t(r,a,e)}},core_1=require("@angular/core"),common_1=require("@angular/common"),router_deprecated_1=require("@angular/router-deprecated"),router_deprecated_2=require("@angular/router-deprecated"),action_bar_1=require("../../action-bar/components/action-bar"),instance_service_1=require("../../calculation/services/instance-service"),template_service_1=require("../../calculation/services/template-service"),NewInstanceView=function(){function e(e,t,r,a){var c=this;this._router=t,this._instanceService=r,this._templateService=a,this.templates=[],this.newInstanceForm=e.group({name:["",common_1.Validators.required],template:["",common_1.Validators.required]}),this._templateService.getAll().subscribe(function(e){c.templates=e})}return e.prototype.submit=function(){var e=this;this._instanceService.add(this.newInstanceForm.value).subscribe(function(t){e._router.navigate(["Instance",{id:t._id}])})},e=__decorate([core_1.Component({selector:"new-instance-view",directives:[router_deprecated_2.RouterLink,action_bar_1.ActionBar],templateUrl:"client/dev/instance/templates/new-instance-view.html",styleUrls:["client/dev/instance/styles/new-instance-view.css"],providers:[instance_service_1.InstanceService,template_service_1.TemplateService]}),__param(0,core_1.Inject(common_1.FormBuilder)),__param(1,core_1.Inject(router_deprecated_1.Router)),__param(2,core_1.Inject(instance_service_1.InstanceService)),__param(3,core_1.Inject(template_service_1.TemplateService)),__metadata("design:paramtypes",[common_1.FormBuilder,router_deprecated_1.Router,instance_service_1.InstanceService,template_service_1.TemplateService])],e)}();exports.NewInstanceView=NewInstanceView;